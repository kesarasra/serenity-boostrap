/* =========================
   GLOBAL SITE STRUCTURE
========================= */
body {
  background-color: #eaf5ea;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

main, section {
  flex-shrink: 0;
}

html {
  scroll-behavior: smooth;
}

[data-parallax] {
  transition: transform 0.1s ease-out;
  will-change: transform;
}

/* =========================
   HEADER
========================= */
#site-header {
  height: 100px;
  background-color: #ff00ff4d; /* fuchsia w/ transparency */
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  transition: transform 0.3s ease-in-out;
  z-index: 999;
  padding: 0 1rem;
}

#site-header a img {
  height: 80px;
  max-height: 12vh;
}

#hamburgerBtn {
  min-width: 44px;
  min-height: 44px;
}

.logo-img {
  max-height: 60px;
  height: auto;
  transition: max-height 0.3s ease;
}
@media (min-width: 768px) {
  .logo-img { max-height: 70px; }
}
@media (min-width: 1200px) {
  .logo-img { max-height: 80px; }
}

/* Mobile header */
@media (max-width: 768px) {
  #site-header { height: 60px; padding: 0.5rem 1rem; }
  #site-header a img { height: 45px; }
  .dropdown-menu { width: 100vw; left: 0; right: 0; }
}

/* =========================
   DROPDOWN MENU
========================= */
.dropdown-menu {
  display: none;
  opacity: 0;
  transform: translateY(-10px);
  transition: opacity 0.3s, transform 0.3s;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  border-radius: 0.25rem;
}
.dropdown-menu.show {
  display: block;
  opacity: 1;
  transform: translateY(0);
}
.dropdown-item { padding: 0.5rem 1rem; cursor: pointer; }
@media (hover: hover) and (pointer: fine) {
  .dropdown:hover .dropdown-menu {
    display: block; opacity: 1; transform: translateY(0);
  }
}

/* =========================
   VIDEO BACKGROUND
========================= */
#home iframe {
  position: absolute;
  top: 100px; /* match header */
  left: 0;
  width: 100%;
  height: calc(100vh - 100px);
  z-index: -1;
  object-fit: cover;
  border: none;
}
@media (max-width: 768px) {
  #home iframe { top: 60px; height: calc(100vh - 60px); }
}
@media (max-width: 480px) {
  #home iframe { transform: scale(1.5); }
}

/* =========================
   HOME TEXT OVERLAY
========================= */
#home-text {
  display: flex;
  opacity: 0;
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -60%);
  flex-direction: column;
  align-items: center;
  text-align: center;
  z-index: 10;
  color: white;
  transition: opacity 0.8s, transform 0.8s;
}
#home-text.show { opacity: 1; transform: translate(-50%, -50%); }

@keyframes bounceIn {
  0%   { transform: translate(-50%, -150%); opacity: 0; }
  60%  { transform: translate(-50%, -40%); opacity: 1; }
  100% { transform: translate(-50%, -50%); }
}
.bounce-in { animation: bounceIn 1s ease forwards; }

/* =========================
   BUTTONS
========================= */
@keyframes pulseGlow {
  0%,100% { box-shadow: 0 0 0 rgba(240,171,252,0.7); }
  50%     { box-shadow: 0 0 20px rgba(240,171,252,1); }
}
.pulse-glow { animation: pulseGlow 1.5s infinite; }

.btn-fuchsia {
  background-color: rgba(255,0,255,0.5);
  color: #f3e8ff;
  transition: transform 0.3s, background-color 0.3s;
}
.btn-fuchsia:hover {
  transform: scale(1.05);
  background-color: rgba(255,0,255,0.7);
}

/* =========================
   SCROLL INDICATOR
========================= */
#scroll-indicator {
  position: absolute;
  bottom: 5rem; left: 50%;
  transform: translateX(-50%);
  font-size: 2rem;
  opacity: 0.75;
  color: #fff;
  text-shadow: 0 0 10px rgba(0,0,0,0.7);
  animation: bounceY 1.5s infinite;
  pointer-events: none;
  z-index: 20;
}
@keyframes bounceY {
  0%,100% { transform: translateX(-50%) translateY(0); }
  50%     { transform: translateX(-50%) translateY(10px); }
}
@media (max-width:768px) {
  #scroll-indicator { bottom: 2rem; font-size: 1.5rem; }
}

/* =========================
   BENTO SECTIONS
========================= */
#bento { background:#eaf5ea; padding:3rem 0; }
.bento-box { display:flex; flex-wrap:wrap; gap:0.5rem; }
.bento-section {
  flex:1 1 calc(20% - 0.5rem);
  min-width:150px; height:150px;
  display:flex; align-items:center; justify-content:center;
  font-weight:bold; font-size:1.25rem;
  border-radius:0.5rem;
  transition: transform 0.3s, box-shadow 0.3s;
  cursor:pointer; color:#222;
}
.bento-section.active {
  transform:scale(1.2);
  box-shadow:0 8px 20px rgba(0,0,0,0.3);
}
#bento-about { background:#f0e68c; }
#bento-counselors { background:#90ee90; }
#bento-services { background:#ffb6c1; }
#bento-media { background:#90ee90; }
#bento-contact { background:#ffb6c1; }
@media(max-width:768px){
  .bento-section { flex:1 1 45%; height:120px; font-size:1rem; }
}
@media(max-width:480px){
  .bento-section { flex:1 1 100%; height:100px; font-size:0.9rem; }
}

/* =========================
   SWIPE PANELS
========================= */
.swipe-container {
  display:flex; overflow-x:auto;
  scroll-snap-type:x mandatory;
  width:100%; height:100%;
  scroll-behavior:smooth;
}
.panel {
  scroll-snap-align:start;
  flex-shrink:0;
  width:100%; height:100%;
}
@media(max-width:768px){
  .swipe-container { padding:0 0.5rem; }
}

/* =========================
   FROSTED CARD (GLOBAL)
========================= */
.frosted-card {
  background-color: rgba(255, 0, 255, 0.3);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-radius: 1rem;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  color: #4b262b;
  transition: transform 0.18s linear;
  will-change: transform;
}
.frosted-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.2);
}

/* Only clamp bento cards */
.bento-card .frosted-card p {
  display:-webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow:hidden;
  text-overflow:ellipsis;
  max-height:3.2em;
  transition:max-height 0.4s, -webkit-line-clamp 0.4s;
}
.bento-card:hover .frosted-card p {
  -webkit-line-clamp:unset;
  max-height:1000px;
  overflow-y:auto;
}

/* =========================
   PAGE TITLES (shared)
========================= */
:root {
  --site-header-height: 100px;
  --site-header-height-mobile: 60px;
}
.page-title-wrapper {
  padding-top: calc(var(--site-header-height) + 1.25rem);
  padding-bottom: 0.75rem;
  position:relative; z-index:10;
}
@media(max-width:768px){
  .page-title-wrapper {
    padding-top: calc(var(--site-header-height-mobile) + 0.4rem);
  }
}

/* =========================
   ABOUT / MOTTOS / ACTIVITIES
========================= */
#about, #mottos, #activities {
  background:#eaf5ea;
  padding:60px 0;
}
#mottos .frosted-card { background:rgba(255,0,255,0.3); padding:20px; }
#activities img { width:90vw; max-width:1200px; border-radius:0; box-shadow:0 4px 12px rgba(0,0,0,0.15); }
#activities .frosted-card { margin-top:-150px; max-width:600px; z-index:2; }

/* =========================
   COUNSELORS SECTION
========================= */
#counselors {
  background:#eaf5ea;
  padding:60px 0;
}
#counselors img.counselor-img {
  object-fit:cover; 
  height:500px; 
  width:100%;
}
.carousel {
  border-radius:12px; overflow:hidden;
  box-shadow:0 8px 20px rgba(0,0,0,0.15);
}
.carousel-caption.frosted-card {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  max-height: 40%;        /* only occupy bottom 40% */
  padding: 1rem 1.5rem;
  background: rgba(190, 159, 74, 0.7);
  backdrop-filter: blur(8px);
  overflow-y: auto;       /* scroll if content is too tall */
  box-sizing: border-box;
  color: #000;
}

.carousel-caption.frosted-card h5 {
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.carousel-caption.frosted-card p {
  margin: 0;
  line-height: 1.4;
}

/* Bio Section */
#counselor-bio { margin:50px 0; }
#counselor-bio .btn.frosted-card {
  
  backdrop-filter:blur(6px);
  border:1px solid rgba(0,0,0,0.1);
}

/* Hide all profiles by default */
.counselor-profile-page {
  display: none;
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
}

/* Show the active profile */
.counselor-profile-page.active {
  display: block;
  opacity: 1;
}

/* =========================
   SERVICES PAGE
========================= */
#services {
  background: #f9f9f9;
  color: #222;
}

#services .page-title-wrapper {
  padding-top: calc(var(--site-header-height) + 1.25rem);
  padding-bottom: 8px;
}

#services h1.section-main {
  margin-bottom: 6px;
  font-weight: 700;
}

#services p.lead-sub {
  margin-bottom: 28px;
  color: #5b6b5b;
}

/* Grid system: use Bootstrap’s .row + .col but add spacing */
#services .row.g-4 {
  margin-top: 1rem;
}

/* Bento card base */
#services .bento-card {
  position: relative;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 20px rgba(10,10,10,0.08);
  transition: transform .28s ease, box-shadow .28s ease;
  display: flex;
  flex-direction: column;
  height: 420px; /* fixed height for all cards */
}
#services .bento-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 14px 30px rgba(10,10,10,0.12);
}

/* Force all service images to align */
#services .bento-card img {
  width: 100%;
  height: 180px;           /* ✅ fixed card height for consistency */
  object-fit: cover;       /* ✅ crop to fit */
  border-top-left-radius: 12px;
  border-top-right-radius: 12px;
}

/* Frosted overlay */
#services .bento-card .frosted-card {
  flex-grow: 1; /* ✅ ensures equal alignment under each image */
  padding: 1rem;
  backdrop-filter: blur(10px);
  background: rgba(196, 119, 226, 0.55);
  backdrop-filter: blur(6px);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  color: #130606;
}

/* Expandable state */
#services .bento-card .frosted-card.expanded {
  max-height: 800px;
}

/* Section spacing */
#services section {
  padding: 56px 0;
}
#services section:first-of-type {
  padding-top: calc(var(--site-header-height) + 1.25rem);
}

/* Titles */
#services .section-title {
  font-size: 1.4rem;
  margin-bottom: 18px;
  font-weight: 700;
}

/* Centered CTA */
#services .centered {
  text-align: center;
}

/* Responsive adjustments */
@media (max-width: 767px) {
  #services .bento-card img {
    height: 160px;   /* shorter images on small screens */
  }
  #services .page-title-wrapper {
    padding-top: calc(var(--site-header-height-mobile) + 0.4rem);
  }
}

/* ==========================================================
   FORCE CONSISTENT BENTO CARD SIZING FOR INJECTED PAGES
   (applies only to content injected into #page-content)
   ========================================================= */
#page-content .bento-card {
  display: flex;
  flex-direction: column;
  height: 420px;          /* fixed card height (desktop) */
  overflow: hidden;
  border-radius: 12px;
  box-shadow: 0 8px 20px rgba(10,10,10,0.08);
  transition: transform .28s ease, box-shadow .28s ease;
  background: white;
}

#page-content .bento-card img {
  width: 100% !important;
  height: 180px !important;   /* uniform image height */
  object-fit: cover !important;
  display: block;
  border-top-left-radius: 12px;
  border-top-right-radius: 12px;
}

#page-content .bento-card .frosted-card {
  flex: 1 1 auto;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  background: rgba(255,255,255,0.9); /* subtle card background */
  color: #222;
}

/* keep text clamp behavior intact but safe */
#page-content .bento-card .frosted-card p {
  margin: 0;
  line-height: 1.45;
}

/* mobile adjustments - allow cards to expand vertically on very narrow screens */
@media (max-width: 767px) {
  #page-content .bento-card {
    height: auto;
  }
  #page-content .bento-card img {
    height: 160px !important;
  }
}

/* Shared card styling for Services, Training, and Activities */
#services .bento-card,
#training .bento-card,
#activities .bento-card {
  position: relative;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 20px rgba(10,10,10,0.08);
  transition: transform .28s ease, box-shadow .28s ease;
  display: flex;
  flex-direction: column;
  height: 420px; /* consistent height */
}
#services .bento-card:hover,
#training .bento-card:hover,
#activities .bento-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 14px 30px rgba(10,10,10,0.12);
}

/* Force all section images to align */
#services .bento-card img,
#training .bento-card img,
#activities .bento-card img {
  width: 100%;
  height: 180px;      /* ✅ consistent height */
  object-fit: cover;  /* ✅ crop properly */
  border-top-left-radius: 12px;
  border-top-right-radius: 12px;
}

/* Frosted overlay stays uniform */
#services .bento-card .frosted-card,
#training .bento-card .frosted-card,
#activities .bento-card .frosted-card {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  max-height: 40%;   /* show only 40% of card height by default */
  overflow: hidden;
  padding: 1rem;
  backdrop-filter: blur(6px);
  background: rgba(196, 119, 226, 0.55);
  color: #130606;
  transition: max-height 0.4s ease;
}

/* Hover state: expand full height */
#services .bento-card:hover .frosted-card,
#training .bento-card:hover .frosted-card,
#activities .bento-card:hover .frosted-card {
  max-height: 100%;
  overflow-y: auto;
}


@media (max-width: 767px) {
  #services .bento-card img,
  #training .bento-card img,
  #activities .bento-card img {
    height: 160px; /* smaller on mobile */
  }
}

#services .frosted-card h5,
#training .frosted-card h5,
#activities .frosted-card h5 {
  margin-bottom: 0.1rem; /* tighten space under title */
}

#services .frosted-card p,
#training .frosted-card p,
#activities .frosted-card p {
  margin-top: 0;  /* kill top margin */
  margin-bottom: 0; /* optional: keeps spacing clean */
  line-height: 1.45;
}

